======= translation ===========
system dependencies:
sudo apt update
sudo apt install gettext -y
msguniq --version


STEP 1: Mark text
------------------
{% trans "Welcome to our shop" %}

STEP 2: Extract messages
------------------------
django-admin makemessages -l bn   # create/update Bangla translations
django-admin makemessages -l en   # create/update English translations
locale/
 ├── bn/LC_MESSAGES/django.po
 └── en/LC_MESSAGES/django.po

STEP 3: Translate (django.po)
----------------------------
msgid "Welcome to our shop"
msgstr "আমাদের দোকানে স্বাগতম"

STEP 4: Compile
-----------------
django-admin compilemessages

STEP 5: Restart serve
---------------------
python manage.py runserver

Common Mistakes
---------------
Mistake	Result
Run compilemessages before translating	No effect
Forget compilemessages	Translations not shown
Edit .mo directly	Lost on next compile
Run makemessages every time	Overwrites comments

makemessages → edit → compilemessages → restart

❌ Do NOT add English text in bn/django.po
❌ Do NOT add Bangla text in en/django.po


pip install django-debug-toolbar
pip freeze | grep django-debug-toolbar >> requirements/local.txt

django-crispy-forms==<version>

1. Install pre-commit if you haven’t already:
pip install pre-commit

2. Install hooks for the repo (from the root directory):
pre-commit install
pre-commit autoupdate

3. Run checks manually anytime:
pre-commit run --all-files

pre-commit clean
pre-commit install
pre-commit run --all-files

python -m django check
python manage.py check
black --check .
flake8 --check .
isort .
pytest --cov=.
pytest --cov=. --cov-report=html

----------
pre commit
----------
# Install pre-commit
pip install pre-commit

# Install the hooks
pre-commit install

# Run on all files
pre-commit run --all-files

# To skip a specific hook
SKIP=mypy pre-commit run --all-files

# To run only specific hooks
pre-commit run black --all-files
pre-commit run flake8 --all-files

# Temporary fix
python -m mypy config/ --exclude venv --exclude __pycache__

python manage.py test users


# Quick development workflow
make install      # Install dependencies
make migrate      # Run migrations
make start        # Start server

# Full CI check
make check        # Format check + lint + test

# Before committing
make format       # Auto-format code
make lint         # Check for issues
make test         # Run tests

# Clean up
make clean        # Remove all cache files

# tests run manually
isort --settings-file=.isort.cfg --check-only --diff .
flake8 --config=.flake8 --count --show-source --statistics .
pre-commit run --all-files

Reset pre-commit cache (important)
pre-commit clean
pre-commit uninstall
pre-commit install
pre-commit run --all-files

# .ev db conf for local without docker
POSTGRES_DB=eshop_db
POSTGRES_USER=eshop_user
POSTGRES_PASSWORD=supersecret
POSTGRES_HOST=d127.0.0.1
POSTGRES_PORT=5432

# db config for docker
POSTGRES_DB=eshop_db
POSTGRES_USER=eshop_user
POSTGRES_PASSWORD=supersecret
POSTGRES_HOST=db
POSTGRES_PORT=5432
